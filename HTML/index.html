<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Event Portal</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>
<body onload="loadPreference()">
    <!-- Navigation -->
    <nav>
        <a href="#home">Home</a> |
        <a href="#events">Events</a> |
        <a href="#contact">Contact</a> |
        <a href="help.html" target="_blank">Help</a>
    </nav>

    <!-- Main -->
    <div id="home">
        <div id="welcomeBanner">
            Welcome to the Community Event Portal! <span style="color:red; font-weight:bold;">Special Offer!</span>
        </div>

        <!-- Image Gallery -->
        <section id="events">
            <h2 class="highlight">Past Event Gallery</h2>
            <table>
                <caption>Our Successful Events</caption>
                <tr>
                    <td><img src="event1.jpg" alt="Event 1" title="Event 1" ondblclick="enlargeImage(this)"></td>
                    <td><img src="event2.jpg" alt="Event 2" title="Event 2" ondblclick="enlargeImage(this)"></td>
                    <td><img src="event3.jpg" alt="Event 3" title="Event 3" ondblclick="enlargeImage(this)"></td>
                </tr>
                <tr>
                    <td><img src="event4.jpg" alt="Event 4" title="Event 4" ondblclick="enlargeImage(this)"></td>
                    <td><img src="event5.jpg" alt="Event 5" title="Event 5" ondblclick="enlargeImage(this)"></td>
                    <td><img src="event6.jpg" alt="Event 6" title="Event 6" ondblclick="enlargeImage(this)"></td>
                </tr>
            </table>
        </section>

        <!-- Event Registration Form -->
        <section id="contact">
            <h2>Register for an Event</h2>
            <form onsubmit="confirmSubmit(); return false;">
                <div class="form-group">
                    Name: <input type="text" name="name" placeholder="Your Name" required autofocus>
                </div>
                <div class="form-group">
                    Email: <input type="email" name="email" placeholder="Email" required>
                </div>
                <div class="form-group">
                    Date: <input type="date" name="date" required>
                </div>
                <div class="form-group">
                    Event Type: 
                    <select id="eventType" onchange="showFee(); savePreference();">
                        <option value="Free">Community Cleanup</option>
                        <option value="$10">Charity Run</option>
                        <option value="$20">Cultural Night</option>
                    </select>
                    <span id="feeDisplay"></span>
                </div>
                <div class="form-group">
                    Phone: <input type="text" id="phone" onblur="validatePhone();">
                </div>
                <div class="form-group">
                    Message: <textarea id="feedback" onkeyup="countCharacters();"></textarea>
                    <div id="charCount"></div>
                </div>
                <input type="submit" value="Register">
                <output id="formOutput"></output>
            </form>
            <button onclick="clearPreferences()">Clear Preferences</button>
        </section>

        <!-- Video -->
        <video width="320" height="240" controls oncanplay="videoReady()">
            <source src="promo.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>

        <!-- Geolocation -->
        <button onclick="findLocation()">Find Nearby Events</button>
        <div id="location"></div>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Local Community Portal</p>
    </footer>
</body>
</html>
